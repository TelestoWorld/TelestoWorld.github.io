(this["webpackJsonpr3f-moksha"]=this["webpackJsonpr3f-moksha"]||[]).push([[0],{45:function(e,t,r){},46:function(e,t,r){"use strict";r.r(t);var o=r(7),n=r(18),i=r.n(n),a=r(1),c=r(8),s=r(48),l=r(0),f=r(12),u=r.n(f),d=r(10),m=r(32),h=r.n(m),p={sections:9,pages:8,zoom:75,paragraphs:[{offset:1,factor:1.75,header:"Space",image:"https://cdn.akamai.steamstatic.com/steam/apps/500470/ss_cde8e1c40e7c604d3c9b4a8c10da3bb498e89796.600x338.jpg",aspect:1.51,text:"Express yourself with your own architecture"},{offset:2,factor:2,header:"Events",image:"https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/11be386f-a761-4e1e-aa4a-3a8e426d4537/ddzebbv-63cd7231-efd4-433a-9526-b5beefe7e62c.jpg/v1/fill/w_900,h_507,q_75,strp/treefolk_blossom_by_pablo_murasaki_ddzebbv-fullview.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOiIsImlzcyI6InVybjphcHA6Iiwib2JqIjpbW3siaGVpZ2h0IjoiPD01MDciLCJwYXRoIjoiXC9mXC8xMWJlMzg2Zi1hNzYxLTRlMWUtYWE0YS0zYThlNDI2ZDQ1MzdcL2RkemViYnYtNjNjZDcyMzEtZWZkNC00MzNhLTk1MjYtYjViZWVmZTdlNjJjLmpwZyIsIndpZHRoIjoiPD05MDAifV1dLCJhdWQiOlsidXJuOnNlcnZpY2U6aW1hZ2Uub3BlcmF0aW9ucyJdfQ.Rx65ufj0QJ3X28m-gnZ2TdKjulAGoI-GBmcaWqNb_ug",aspect:1.5,text:"Discover new experiences with your friends."},{offset:3,factor:2.25,header:"Learn More",image:"https://i.imgur.com/sjwtCAd.png",aspect:1.5037,text:"Join the Discord to stay updated..."}],stripes:[{offset:0,color:"#000",height:13},{offset:6.3,color:"#000",height:20}],diamonds:[{x:0,offset:.15,pos:new l.Vector3,scale:.6,factor:1.8},{x:2,offset:1.1,pos:new l.Vector3,scale:.8,factor:2.1},{x:-5,offset:2,pos:new l.Vector3,scale:.8,factor:2.5},{x:0,offset:3.2,pos:new l.Vector3,scale:.8,factor:1.75},{x:0,offset:4,pos:new l.Vector3,scale:.8,factor:2.5},{x:2,offset:5.5,pos:new l.Vector3,scale:1.25,factor:.85},{x:-5,offset:7,pos:new l.Vector3,scale:.8,factor:2},{x:0,offset:8,pos:new l.Vector3,scale:1.5,factor:6}],top:Object(a.createRef)()},v=r(5);function j(e){var t=e.children,r=e.size,n=void 0===r?1:r,i=e.left,s=e.right,f=e.top,m=e.bottom,j=e.color,b=void 0===j?"white":j,x=e.opacity,g=void 0===x?1:x,O=e.height,w=void 0===O?.01:O,y=(e.layers,e.font),M=void 0===y?"/MOONGET_Heavy.blob":y,N=Object(d.a)(e,["children","size","left","right","top","bottom","color","opacity","height","layers","font"]),I=Object(c.d)(l.FontLoader,M),z=h()((function(){return new Promise((function(e){return e(new l.TextBufferGeometry(t,{font:I,size:1,height:w,curveSegments:32}))}))}),[t]),J=Object(a.useCallback)((function(e){var t=new l.Vector3;e.geometry.computeBoundingBox(),e.geometry.boundingBox.getSize(t),e.position.x=i?0:s?-t.x:-t.x/2,e.position.y=f?0:m?-t.y:-t.y/2}),[i,s,f,m]),T=Object(a.useRef)(),C=p.top.current;return Object(c.c)((function(){T.current.shift=u()(T.current.shift,(p.top.current-C)/100,.1),C=p.top.current})),Object(v.jsx)("group",Object(o.a)(Object(o.a)({},N),{},{scale:[n,n,.1],children:Object(v.jsx)("mesh",{geometry:z,onUpdate:J,frustumCulled:!1,children:Object(v.jsx)("customMaterial",{ref:T,color:b,transparent:!0,opacity:g})})}))}var b=function(e){var t=e.text,r=e.size,n=void 0===r?1:r,i=e.lineHeight,a=void 0===i?1:i,c=e.position,s=void 0===c?[0,0,0]:c,l=Object(d.a)(e,["text","size","lineHeight","position"]);return t.split("\n").map((function(e,t){return Object(v.jsx)(j,Object(o.a)(Object(o.a)({size:n},l),{},{position:[s[0],s[1]-t*a,s[2]],children:e}),t)}))},x=r(9),g=r(36),O=r(2),w=r(3),y=r(4),M=function(e){Object(w.a)(r,e);var t=Object(y.a)(r);function r(){return Object(O.a)(this,r),t.call(this,{vertexShader:"varying vec3 worldNormal;\n      void main() {\n        vec4 transformedNormal = vec4(normal, 0.);\n        vec4 transformedPosition = vec4(position, 1.0);\n        #ifdef USE_INSTANCING\n          transformedNormal = instanceMatrix * transformedNormal;\n          transformedPosition = instanceMatrix * transformedPosition;\n        #endif\n        worldNormal = normalize(modelViewMatrix * transformedNormal).xyz;\n        gl_Position = projectionMatrix * modelViewMatrix * transformedPosition;\n      }",fragmentShader:"varying vec3 worldNormal;\n      void main() {\n        gl_FragColor = vec4(worldNormal, 1.0);\n      }",side:l.BackSide})}return r}(l.ShaderMaterial),N=function(e){Object(w.a)(r,e);var t=Object(y.a)(r);function r(e){return Object(O.a)(this,r),t.call(this,{vertexShader:"varying vec3 worldNormal;\n      varying vec3 viewDirection;\n      void main() {\n        vec4 transformedNormal = vec4(normal, 0.);\n        vec4 transformedPosition = vec4(position, 1.0);\n        #ifdef USE_INSTANCING\n          transformedNormal = instanceMatrix * transformedNormal;\n          transformedPosition = instanceMatrix * transformedPosition;\n        #endif\n        worldNormal = normalize( modelViewMatrix * transformedNormal).xyz;\n        viewDirection = normalize((modelMatrix * vec4( position, 1.0)).xyz - cameraPosition);;\n        gl_Position = projectionMatrix * modelViewMatrix * transformedPosition;\n      }",fragmentShader:"uniform sampler2D envMap;\n      uniform sampler2D backfaceMap;\n      uniform vec2 resolution;\n      varying vec3 worldNormal;\n      varying vec3 viewDirection;\n      float fresnelFunc(vec3 viewDirection, vec3 worldNormal) {\n        return pow(1.05 + dot(viewDirection, worldNormal), 100.0);\n      }\n      void main() {\n        vec2 uv = gl_FragCoord.xy / resolution;\n        vec3 normal = worldNormal * (1.0 - 0.7) - texture2D(backfaceMap, uv).rgb * 0.7;\n        vec4 color = texture2D(envMap, uv += refract(viewDirection, normal, 1.0/1.5).xy);\n        //gl_FragColor = vec4(mix(color.rgb, vec3(0.15), fresnelFunc(viewDirection, normal)), 1.0);\n        gl_FragColor = vec4(mix(color.rgb, vec3(0.4), fresnelFunc(viewDirection, normal)), 1.0);\n      }",uniforms:{envMap:{value:e.envMap},backfaceMap:{value:e.backfaceMap},resolution:{value:e.resolution}}})}return r}(l.ShaderMaterial),I=Object(a.createContext)(0);function z(e){var t=e.children,r=e.offset,n=e.factor,i=Object(d.a)(e,["children","offset","factor"]),s=J(),l=s.offset,f=s.sectionHeight,m=Object(a.useRef)();return r=void 0!==r?r:l,Object(c.c)((function(){var e=m.current.position.y,t=p.top.current;m.current.position.y=u()(e,t/p.zoom*n,.1)})),Object(v.jsx)(I.Provider,{value:r,children:Object(v.jsx)("group",Object(o.a)(Object(o.a)({},i),{},{position:[0,-f*r*n,0],children:Object(v.jsx)("group",{ref:m,children:t})}))})}function J(){var e=p.sections,t=p.pages,r=p.zoom,o=Object(c.e)(),n=o.size,i=o.viewport,s=Object(a.useContext)(I),l=i.width*r,f=i.height*r,u=l/r,d=f/r,m=n.width<700;return{viewport:i,offset:s,viewportWidth:l,viewportHeight:f,canvasWidth:u,canvasHeight:d,mobile:m,margin:u*(m?.2:.1),contentMaxWidth:u*(m?.8:.6),sectionHeight:d*((t-1)/(e-1)),offsetFactor:(s+1)/e}}var T=new l.Object3D;function C(){var e=Object(c.d)(g.a,"/diamond.glb").nodes;Object(a.useLayoutEffect)((function(){return e.pCone1_lambert1_0.geometry.center()}),[]);var t=Object(c.e)(),r=t.size,o=t.gl,n=t.scene,i=t.camera,s=t.clock,f=J(),d=f.contentMaxWidth,m=f.sectionHeight,h=f.mobile,j=Object(a.useRef)(),b=o.getPixelRatio(),O=Object(a.useMemo)((function(){var e=new l.WebGLRenderTarget(r.width*b,r.height*b),t=new l.WebGLRenderTarget(r.width*b,r.height*b);return[e,t,new M,new N({envMap:e.texture,backfaceMap:t.texture,resolution:[r.width*b,r.height*b]})]}),[r,b]),w=Object(x.a)(O,4),y=w[0],I=w[1],z=w[2],C=w[3];return Object(c.c)((function(){p.diamonds.forEach((function(e,t){var r=s.getElapsedTime()/2,o=e.x,n=e.offset,i=e.scale,a=e.factor,c=d/35*i;e.pos.set(h?0:o,u()(e.pos.y,-m*n*a+p.top.current/p.zoom*a,.1),0),T.position.copy(e.pos),t===p.diamonds.length-1?T.rotation.set(0,r,0):T.rotation.set(r,r,r),T.scale.set(c,c,c),T.updateMatrix(),j.current.setMatrixAt(t,T.matrix),j.current.instanceMatrix.needsUpdate=!0})),o.autoClear=!1,i.layers.set(0),o.setRenderTarget(y),o.clearColor(),o.render(n,i),o.clearDepth(),i.layers.set(1),j.current.material=z,o.setRenderTarget(I),o.clearDepth(),o.render(n,i),i.layers.set(0),o.setRenderTarget(null),o.render(n,i),o.clearDepth(),i.layers.set(1),j.current.material=C,o.render(n,i)}),1),Object(v.jsx)("instancedMesh",{ref:j,layers:1,args:[e.pCone1_lambert1_0.geometry,null,p.diamonds.length],position:[0,0,50]})}var _=r(6),D=function(e){Object(w.a)(r,e);var t=Object(y.a)(r);function r(){return Object(O.a)(this,r),t.call(this,{vertexShader:"uniform float scale;\n      uniform float shift;\n      varying vec2 vUv;\n      void main() {\n        vec3 pos = position;\n        pos.y = pos.y + ((sin(uv.x * 3.1415926535897932384626433832795) * shift * 2.0) * 0.125);\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos,1.);\n      }",fragmentShader:"uniform sampler2D tex;\n      uniform float hasTexture;\n      uniform float shift;\n      uniform float scale;\n      uniform vec3 color;\n      uniform float opacity;\n      varying vec2 vUv;\n      void main() {\n        float angle = 1.55;\n        vec2 p = (vUv - vec2(0.5, 0.5)) * (1.0 - scale) + vec2(0.5, 0.5);\n        vec2 offset = shift / 4.0 * vec2(cos(angle), sin(angle));\n        vec4 cr = texture2D(tex, p + offset);\n        vec4 cga = texture2D(tex, p);\n        vec4 cb = texture2D(tex, p - offset);\n        if (hasTexture == 1.0) gl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);\n        else gl_FragColor = vec4(color, opacity);\n      }",uniforms:{tex:{value:null},hasTexture:{value:0},scale:{value:0},shift:{value:0},opacity:{value:1},color:{value:new l.Color("white")}}})}return Object(_.a)(r,[{key:"scale",get:function(){return this.uniforms.scale.value},set:function(e){this.uniforms.scale.value=e}},{key:"shift",get:function(){return this.uniforms.shift.value},set:function(e){this.uniforms.shift.value=e}},{key:"map",get:function(){return this.uniforms.tex.value},set:function(e){this.uniforms.hasTexture.value=!!e,this.uniforms.tex.value=e}},{key:"color",get:function(){return this.uniforms.color.value}},{key:"opacity",get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms&&(this.uniforms.opacity.value=e)}}]),r}(l.ShaderMaterial);Object(c.b)({CustomMaterial:D});var W=Object(a.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"white":r,i=e.shift,s=void 0===i?1:i,l=e.opacity,f=void 0===l?1:l,m=e.args,h=e.map,j=Object(d.a)(e,["color","shift","opacity","args","map"]),b=J(),x=b.viewportHeight,g=b.offsetFactor,O=Object(a.useRef)(),w=p.top.current;return Object(c.c)((function(){var e=p.pages,t=p.top;O.current.scale=u()(O.current.scale,g-t.current/((e-1)*x),.1),O.current.shift=u()(O.current.shift,(t.current-w)/s,.1),w=t.current})),Object(v.jsxs)("mesh",Object(o.a)(Object(o.a)({ref:t},j),{},{children:[Object(v.jsx)("planeBufferGeometry",{args:m}),Object(v.jsx)("customMaterial",{ref:O,color:n,map:h,transparent:!0,opacity:f})]}))}));r(45);function Z(){var e=Object(a.useRef)();return Object(c.c)((function(){return e.current.material.opacity=u()(e.current.material.opacity,0,.025)})),Object(v.jsx)(W,{ref:e,color:"#0e0e0f",position:[0,0,200],scale:[100,100,1]})}function k(e){var t=e.image,r=e.index,o=e.offset,n=e.factor,i=e.header,a=e.aspect,c=e.text,l=J(),f=l.contentMaxWidth,u=l.canvasWidth,d=l.margin,m=l.mobile,h=a<1&&!m?.65:1,b=(u-f*h-d)/2,x=f*p.zoom*h,g=!(r%2),O=r%2?"#D40749":"#2FE8C3";return Object(v.jsx)(z,{factor:n,offset:o,children:Object(v.jsxs)("group",{position:[g?-b:b,0,0],children:[Object(v.jsx)(W,{map:t,args:[1,1,32,32],shift:75,size:h,aspect:a,scale:[f*h,f*h/a,1],frustumCulled:!1}),Object(v.jsx)(s.a,{style:{width:x/(m?1:2),textAlign:g?"left":"right"},position:[g||m?-f*h/2:0,-f*h/2/a-.4,1],children:Object(v.jsx)("div",{tabIndex:r,children:c})}),Object(v.jsx)(j,{left:g,right:!g,size:.04*f,color:O,top:!0,position:[(g?-f:f)*h/2,f*h/a/2+.5,-1],children:i}),Object(v.jsx)(z,{factor:.2,children:Object(v.jsx)(j,{opacity:.5,size:.1*f,color:"#1A1E2A",position:[(g?f:-f)/2*h,f*h/a/1.5,-10],children:"0"+(r+1)})})]})})}function S(){var e=Object(c.d)(l.TextureLoader,p.paragraphs.map((function(e){return e.image})));Object(a.useMemo)((function(){return e.forEach((function(e){return e.minFilter=l.LinearFilter}))}),[e]);var t=J(),r=t.contentMaxWidth,n=t.canvasWidth,i=t.canvasHeight,f=t.mobile;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(z,{factor:1,offset:0,children:[Object(v.jsx)(z,{factor:1.2,children:Object(v.jsx)(j,{left:!0,size:.08*r,position:[-r/3.2,.5,-1],color:"#d40749",children:"Telesto World"})}),Object(v.jsx)(z,{factor:1,children:Object(v.jsxs)(s.a,{position:[-r/3.2,.08*-r+.25,-1],children:["It was the year 2021.",f?Object(v.jsx)("br",{}):" ","a new metaverse began to take shape."]})})]}),Object(v.jsx)(z,{factor:1.2,offset:5.7,children:Object(v.jsx)(b,{top:!0,left:!0,size:.15*r,lineHeight:r/5,position:[-r/1.5,0,-1],color:"#2fe8c3",text:"Satyrn\n~\nIndustries"})}),p.paragraphs.map((function(t,r){return Object(v.jsx)(k,Object(o.a)(Object(o.a)({index:r},t),{},{image:e[r]}),r)})),p.stripes.map((function(e,t){var r=e.offset,o=e.color,n=e.height;return Object(v.jsx)(z,{factor:-1.5,offset:r,children:Object(v.jsx)(W,{args:[50,n,32,32],shift:-4,color:o,rotation:[0,0,Math.PI/8],position:[0,0,-10]})},t)})),Object(v.jsx)(z,{factor:1.25,offset:8,children:Object(v.jsx)(s.a,{className:"bottom-left",position:[-n/2,-i/2,0],children:"The future is in your hands..."})})]})}function F(){var e=Object(a.useRef)(),t=function(e){return p.top.current=e.target.scrollTop};return Object(a.useEffect)((function(){t({target:e.current})}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(c.a,{colorManagement:!1,concurrent:!0,pixelRatio:1,orthographic:!0,camera:{zoom:p.zoom,position:[0,0,500]},children:Object(v.jsxs)(a.Suspense,{fallback:Object(v.jsx)(s.a,{center:!0,className:"loading",children:"Loading..."}),children:[Object(v.jsx)(S,{}),Object(v.jsx)(C,{}),Object(v.jsx)(Z,{})]})}),Object(v.jsx)("div",{className:"scrollArea",ref:e,onScroll:t,children:new Array(p.sections).fill().map((function(e,t){return Object(v.jsx)("div",{id:"0"+t,style:{height:"".concat(p.pages/p.sections*100,"vh")}},t)}))})]})}i.a.render(Object(v.jsx)(F,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.833ca77b.chunk.js.map